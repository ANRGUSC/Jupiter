 
node_list:
  home: k8sworkersb-ubuntu-s-4vcpu-8gb-0-lon1 
  node1: k8sworkersb-ubuntu-s-4vcpu-8gb-1-sfo2
  node2: k8sworkersb-ubuntu-s-4vcpu-8gb-2-sfo2
  #TODO: datasources will eventually be removed from here
  datasource1: k8sworkersb-ubuntu-s-4vcpu-8gb-3-fra1
application:
  sources:
  - name: datasource1
    dataset: firengine
    datapath: data/fireengine
    stream_image: docker.io/anrg/streams_home:fireengine
    #this should be a node that jupiter wont schedule nodes on   
    node_placement: k8sworkersb-ubuntu-s-4vcpu-8gb-3-fra1 
  - name: datasource2
    dataset: schoolbus
    datapath: data/schoolbus
    stream_image: docker.io/anrg/streams_home:schoolbus
    #this should be a node that jupiter wont schedule nodes on   
    node_placement: k8sworkersb-ubuntu-s-4vcpu-8gb-3-fra1 
  - name: datasource3
    dataset: whitewolf
    datapath: data/whitewolf
    stream_image: docker.io/anrg/streams_home:whitewolf
    #this should be a node that jupiter wont schedule nodes on   
    node_placement: k8sworkersb-ubuntu-s-4vcpu-8gb-3-fra1 
  - name: datasource4
    dataset: hyena
    datapath: data/hyena
    stream_image: docker.io/anrg/streams_home:hyena
    #this should be a node that jupiter wont schedule nodes on   
    node_placement: k8sworkersb-ubuntu-s-4vcpu-8gb-3-fra1 
  - name: datasource5
    dataset: kitfox
    datapath: data/kitfox
    stream_image: docker.io/anrg/streams_home:kitfox
    #this should be a node that jupiter wont schedule nodes on   
    node_placement: k8sworkersb-ubuntu-s-4vcpu-8gb-3-fra1 
  - name: datasource6
    dataset: persiancat
    datapath: data/persiancat
    stream_image: docker.io/anrg/streams_home:persiancat
    #this should be a node that jupiter wont schedule nodes on   
    node_placement: k8sworkersb-ubuntu-s-4vcpu-8gb-3-fra1 
  - name: datasource7
    dataset: leopard
    datapath: data/leopard
    stream_image: docker.io/anrg/streams_home:leopard
    #this should be a node that jupiter wont schedule nodes on   
    node_placement: k8sworkersb-ubuntu-s-4vcpu-8gb-3-fra1 
  - name: datasource8
    dataset: lion
    datapath: data/lion
    stream_image: docker.io/anrg/streams_home:lion
    #this should be a node that jupiter wont schedule nodes on   
    node_placement: k8sworkersb-ubuntu-s-4vcpu-8gb-3-fra1 
  - name: datasource9
    dataset: tiger
    datapath: data/tiger
    stream_image: docker.io/anrg/streams_home:tiger
    #this should be a node that jupiter wont schedule nodes on   
    node_placement: k8sworkersb-ubuntu-s-4vcpu-8gb-3-fra1 
  - name: datasource10
    dataset: americanblackbear
    datapath: data/americanblackbear
    stream_image: docker.io/anrg/streams_home:americanblackbear
    #this should be a node that jupiter wont schedule nodes on   
    node_placement: k8sworkersb-ubuntu-s-4vcpu-8gb-3-fra1 
  - name: datasource11
    dataset: mongoose
    datapath: data/mongoose
    stream_image: docker.io/anrg/streams_home:mongoose
    #this should be a node that jupiter wont schedule nodes on   
    node_placement: k8sworkersb-ubuntu-s-4vcpu-8gb-3-fra1 
  - name: datasource12
    dataset: zebra
    datapath: data/zebra
    stream_image: docker.io/anrg/streams_home:zebra
    #this should be a node that jupiter wont schedule nodes on   
    node_placement: k8sworkersb-ubuntu-s-4vcpu-8gb-3-fra1 
  - name: datasource13
    dataset: hog
    datapath: data/hog
    stream_image: docker.io/anrg/streams_home:hog
    #this should be a node that jupiter wont schedule nodes on   
    node_placement: k8sworkersb-ubuntu-s-4vcpu-8gb-3-fra1 
  - name: datasource14
    dataset: hippopotamus
    datapath: data/hippopotamus
    stream_image: docker.io/anrg/streams_home:hippopotamus
    #this should be a node that jupiter wont schedule nodes on   
    node_placement: k8sworkersb-ubuntu-s-4vcpu-8gb-3-fra1 
  - name: datasource15
    dataset: ox
    datapath: data/ox
    stream_image: docker.io/anrg/streams_home:ox
    #this should be a node that jupiter wont schedule nodes on   
    node_placement: k8sworkersb-ubuntu-s-4vcpu-8gb-3-fra1 
  - name: datasource16
    dataset: buffalo
    datapath: data/buffalo
    stream_image: docker.io/anrg/streams_home:buffalo
    #this should be a node that jupiter wont schedule nodes on   
    node_placement: k8sworkersb-ubuntu-s-4vcpu-8gb-3-fra1 
  - name: datasource17
    dataset: ram
    datapath: data/ram
    stream_image: docker.io/anrg/streams_home:ram
    #this should be a node that jupiter wont schedule nodes on   
    node_placement: k8sworkersb-ubuntu-s-4vcpu-8gb-3-fra1 
  - name: datasource18
    dataset: impala 
    datapath: data/impala 
    stream_image: docker.io/anrg/streams_home:impala
    #this should be a node that jupiter wont schedule nodes on   
    node_placement: k8sworkersb-ubuntu-s-4vcpu-8gb-3-fra1 
  - name: datasource19
    dataset: arabiancamel
    datapath: data/arabiancamel
    stream_image: docker.io/anrg/streams_home:arabiancamel
    #this should be a node that jupiter wont schedule nodes on   
    node_placement: k8sworkersb-ubuntu-s-4vcpu-8gb-3-fra1 
  - name: datasource20
    dataset: otter
    datapath: data/otter
    stream_image: docker.io/anrg/streams_home:otter
    #this should be a node that jupiter wont schedule nodes on   
    node_placement: k8sworkersb-ubuntu-s-4vcpu-8gb-3-fra1   
  ports:
    # these ports are to be exposed by app docker containers and also exposed via k8s service
    # available range: 50000-60000
    - 57021
  num_tasks: 26 #base is 19, add 7 everytime adding a new set
  task_list:
    home: home  #TODO
    worker_tasks:
      - name: master
        # node_placement: n2
        inputs_to_wait_for: 9
        output_policy: BATCHED_CUSTOM_ORDER
        children:  # child order determines round robin sequence
          - resnet0
          - resnet1
          - resnet2
          - resnet3
          - resnet4
          - resnet5
          - resnet6
          - resnet7
          - resnet8
          - collage
        infile_prefix: n0
        outfile_prefix: master
        dag_task: True
      - name: resnet0
        inputs_to_wait_for: 1
        output_policy: UNICAST
        children:
          - storeclass1
          - storeclass2
        infile_prefix: master
        outfile_prefix: resnet0
        dag_task: True
      - name: resnet1
        inputs_to_wait_for: 1
        output_policy: UNICAST
        children:
          - storeclass1
          - storeclass2
        infile_prefix: master
        outfile_prefix: resnet1
        dag_task: True
      - name: resnet2
        inputs_to_wait_for: 1
        output_policy: UNICAST
        children:
          - storeclass1
          - storeclass2
        infile_prefix: master
        outfile_prefix: resnet2
        dag_task: True
      - name: resnet3
        inputs_to_wait_for: 1
        output_policy: UNICAST
        children:
          - storeclass1
          - storeclass2
        infile_prefix: master
        outfile_prefix: resnet3
        dag_task: True
      - name: resnet4
        inputs_to_wait_for: 1
        output_policy: UNICAST
        children:
          - storeclass1
          - storeclass2
        infile_prefix: master
        outfile_prefix: resnet4
        dag_task: True
      - name: resnet5
        inputs_to_wait_for: 1
        output_policy: UNICAST
        children:
          - storeclass1
          - storeclass2
        infile_prefix: master
        outfile_prefix: resnet5
        dag_task: True
      - name: resnet6
        inputs_to_wait_for: 1
        output_policy: UNICAST
        children:
          - storeclass1
          - storeclass2
        infile_prefix: master
        outfile_prefix: resnet6
        dag_task: True
      - name: resnet7
        inputs_to_wait_for: 1
        output_policy: UNICAST
        children:
          - storeclass1
          - storeclass2
        infile_prefix: master
        outfile_prefix: resnet7
        dag_task: True
      - name: resnet8
        inputs_to_wait_for: 1
        output_policy: UNICAST
        children:
          - storeclass1
          - storeclass2
        infile_prefix: master
        outfile_prefix: resnet8
        dag_task: True
      - name: collage
        inputs_to_wait_for: 1
        output_policy: POINT_TO_POINT_BROADCAST
        children:
          - decoder
        infile_prefix: master
        outfile_prefix: collage
        dag_task: True
      - name: decoder
        inputs_to_wait_for: 1
        output_policy: NONE
        infile_prefix: collage
        outfile_prefix: decoder
        dag_task: True
      - name: storeclass1
        inputs_to_wait_for: 1
        output_policy: POINT_TO_POINT_BROADCAST
        children:
          - lccenc1
        infile_prefix: resnet
        outfile_prefix: storeclass1
        dag_task: True
      - name: storeclass2
        inputs_to_wait_for: 1
        output_policy: POINT_TO_POINT_BROADCAST
        children:
          - lccenc2
        infile_prefix: resnet
        outfile_prefix: storeclass2
        dag_task: True
      - name: lccenc1
        inputs_to_wait_for: 4
        output_policy: BATCHED_CUSTOM_ORDER
        children:
          - score1a
          - score1b
          - score1c
        infile_prefix: storeclass1
        outfile_prefix: lccenc1
        dag_task: True
      - name: lccenc2
        inputs_to_wait_for: 4
        output_policy: BATCHED_CUSTOM_ORDER
        children:
          - score2a
          - score2b
          - score2c
        infile_prefix: storeclass2
        outfile_prefix: lccenc2
        dag_task: True
      - name: score1a
        inputs_to_wait_for: 1
        output_policy: POINT_TO_POINT_BROADCAST
        children: 
          - preagg1
        infile_prefix: lccenc1
        outfile_prefix: score1a
        dag_task: True
      - name: score1b
        inputs_to_wait_for: 1
        output_policy: POINT_TO_POINT_BROADCAST
        children: 
          - preagg1
        infile_prefix: lccenc1
        outfile_prefix: score1b
        dag_task: True
      - name: score1c
        inputs_to_wait_for: 1
        output_policy: POINT_TO_POINT_BROADCAST
        children: 
          - preagg1
        infile_prefix: lccenc1
        outfile_prefix: score1c
        dag_task: True
      - name: score2a
        inputs_to_wait_for: 1
        output_policy: POINT_TO_POINT_BROADCAST
        children: 
          - preagg2
        infile_prefix: lccenc2
        outfile_prefix: score2a
        dag_task: True
      - name: score2b
        inputs_to_wait_for: 1
        output_policy: POINT_TO_POINT_BROADCAST
        children: 
          - preagg2
        infile_prefix: lccenc2
        outfile_prefix: score2b
        dag_task: True
      - name: score2c
        inputs_to_wait_for: 1
        output_policy: POINT_TO_POINT_BROADCAST
        children: 
          - preagg2
        infile_prefix: lccenc2
        outfile_prefix: score2c
        dag_task: True
      - name: preagg1
        inputs_to_wait_for: 3
        output_policy: POINT_TO_POINT_BROADCAST
        children: 
          - lccdec1
        infile_prefix: score1
        outfile_prefix: preagg1
        dag_task: True
      - name: preagg2
        inputs_to_wait_for: 3
        output_policy: POINT_TO_POINT_BROADCAST
        children: 
          - lccdec2
        infile_prefix: score2
        outfile_prefix: preagg2
        dag_task: True
      - name: lccdec1
        inputs_to_wait_for: 2
        output_policy: POINT_TO_POINT_BROADCAST
        children: 
          - home
        infile_prefix: preagg1
        outfile_prefix: lccdec1
        dag_task: True
      - name: lccdec2
        inputs_to_wait_for: 2
        output_policy: POINT_TO_POINT_BROADCAST
        children: 
          - home
        infile_prefix: preagg2
        outfile_prefix: lccdec2
        dag_task: True
     